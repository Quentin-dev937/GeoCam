#  WELCOME TO DEEPFAUNE SOFTWARE REPOSITORY


<img src="icons/1316-white-small.png" width="20%">
<img src="icons/logoINEE.png" width="50%" align=right>



---
# NEWS
---

Release v1.1 is available on Linux. 

Supported categories/species : BADGER, BEAR, BIRD, CAT, CHAMOIS/ISARD, COW, DOG, EQUID, FOX, GENET, GOAT, HEDGEHOG, IBEX, LAGOMORPH, LYNX, MARMOT, MICROMAMMAL, MOUFLON, MUSTELID, NUTRIA, REDDEER, ROEDEER, SHEEP, SQUIRREL, WILDBOAR, WOLF + HUMAN, VEHICULE + EMPTY 

---
# INSTALL
---

## FOR WINDOWS USERS
`Deepfaune` sofware is released under the [CeCILL](http://www.cecill.info) licence, compatible with [GNU GPL](http://www.gnu.org/licenses/gpl-3.0.html).

The latest versions are available at:
[https://pbil.univ-lyon1.fr/software/download/deepfaune/](https://pbil.univ-lyon1.fr/software/download/deepfaune/)

1. Download the latest `zip` file
2. Uncompress the file on your Desktop
3. Double-click on `deepfaune_installer.exe` to install the software on your computer


## FOR LINUX / MAC OS USERS (and WINDOWS  USERS used to Python)
`Deepfaune` sofware is released under the [CeCILL](http://www.cecill.info) licence, compatible with [GNU GPL](http://www.gnu.org/licenses/gpl-3.0.html).

### 1. Get the source code of the latest release, directly from this site. 
Option1 (latest stable version):  get the `zip` archive by clicking on the button `Download` (next to "Create release") on the last row of [https://plmlab.math.cnrs.fr/deepfaune/software/-/tags](https://plmlab.math.cnrs.fr/deepfaune/software/-/tags). 
Then, uncompress the zip file.

Option2 (latest version): clone the repository by clicking on the blue button above.

###  2. Download and unzip the model parameters
The model parameters are protected by the [CC BY-NC-SA 4.0 license](https://creativecommons.org/licenses/by-nc-sa/4.0/) (Attribution-NonCommercial-ShareAlike 4.0 International).

Download the model parameters *inside the deepfaune folder* where you can find `deepfauneGUI.py`:

- Animal detector parameters: for version 1.0.x and 1.1.x [deepfaune-yolov8s.pt](https://pbil.univ-lyon1.fr/software/download/deepfaune/v1.0/)

- Classifier parameters: for version 1.1.x [deepfaune-vit_large_patch14_dinov2.lvd142m.pt](https://pbil.univ-lyon1.fr/software/download/deepfaune/v1.1/)

### 3. Install the dependencies

We need Python 3.x and `pip` 

WARNING: on Linux it is not mandatory to create a virtual environement with:
```
python3 -m venv envdeepfaune
source env/bin/activatedeepfaune
pip install XXX
```

Then, the dependencies
- PyTorch: `pip install torch torchvision`
- Yolov8: `pip install ultralytics`
- Timm: `pip install timm`
- Pandas: `pip install pandas`
- Numpy: `pip install numpy`
- OpenCV: `pip install opencv-python`
- PIL: `pip install pillow`
- DILL: `pip install dill`
- ffmpeg: `pip install ffmpeg-python` (but not `ffmpeg`)
- (optional, for Excel users only) openpyxl: `pip install openpyxl`

For some users, it may be necessary to install `python-tk` or `python3-tk` as well, when you have a message `no module tkinter`...

On Windows, install these dependencies using **[Anaconda Individual Edition](https://www.anaconda.com/products/individual)** (WARNING: during installation of Anaconda, you will be asked to choose a path to install Ananconda files. It will be `C:\Users\yourname\anaconda3` by default. PLEASE REMEMBER THIS PATH FOR FURTHER USE).

- Open Anaconda window, search for `torchvision` and click to install it, , as explained [here](https://docs.anaconda.com/anaconda/navigator/tutorials/manage-packages/)
- and so on for the other dependencies listed above.

---
# USING DEEPFAUNE
---

### Running the Python script

In a terminal, launch `python deepfauneGUI.py` or `python.exe deepfauneGUI.py`

Now you can use the GUI !


### Using the API

You can implement your own scripts using the DeepFaune API. A *minimal example* is [available here](https://plmlab.math.cnrs.fr/deepfaune/software/-/tree/master/demo/testPredictor.py). Another *minimal example* using a JSON file generated by MegaDetector is [available here](https://plmlab.math.cnrs.fr/deepfaune/software/-/tree/master/demo/testPredictorJSON.py)

---
# CONTACT
---

For any question, bug or feedback, feel free to send an email to [Vincent Miele](https://lbbe.univ-lyon1.fr/-Miele-Vincent-.html) <!--or use the Gitlab Service Desk-->


---
# LICENSE
---

All of the source code to this product is available under the [CeCILL](http://www.cecill.info), compatible with [GNU GPL](http://www.gnu.org/licenses/gpl-3.0.html).

All the model parameters (PyTorch weights in '.pt' files) are available under the [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License](https://creativecommons.org/licenses/by-nc-sa/4.0/).

Commercial use of any element of `DeepFaune` (code or model parameters) is forbidden.

Know your rights.


---
# REFERENCES
---

[Rig22] Rigoudy, N., the DeepFaune consortium, Spataro, B., Miele, V. & Chamaillé-Jammes, S. (2022) *The DeepFaune initiative: a collaborative effort towards the automatic identification of the French fauna in camera-trap images.* [Preprint bioRxiv](https://biorxiv.org/)

[Mie21] Miele, V., Dray, S., & Gimenez, O. (2021). *Images, écologie et deep learning.* [Regards sur la biodiversité](https://sfecologie.org/regard/r95-fev-2021-miele-dray-gimenez-deep-learning/)


---

# FREQUENTLY ASKED QUESTIONS

---

> How can I learn more about machine learning for ecology?

You can dig into [this paper list](https://ecostat.gitlab.io/imaginecology/papers.html).

> Is the `deepfaune` software free?

Yes, it is a free software, ut commercial use is forbidden (see LICENSE section). If you appreciate our work, please cite our work and/or contribute by sharing with us your annotated images.

> Can I have access to the images used in the DeepFaune project?

No. We do not share the images of our partners.

> Can I contribute to the DeepFaune project with my images?

It would be great!! You can contact us to see how you can send us your images (we have different solutions). We will store them in a secure server with private access to the members of the deepfaune project.
 
> Who is developing this DeepFaune project?

A team in CNRS-INEE leaded by Simon Chamaillé-Jammes (CEFE) and Vincent Miele (LBBE). Please have a look at our website [https://www.deepfaune.cnrs.fr/](https://www.deepfaune.cnrs.fr/).

<br>
<br>

---
---
Logo artwork: Rochak Shukla - www.freepik.com

